export type SupportedLanguage = 
  | 'en'
  | 'hi'
  | 'ta'
  | 'te'
  | 'kn'
  | 'gu'
  | 'mr'
  | 'pa'
  | 'bn';

export const SUPPORTED_LANGUAGES: { code: SupportedLanguage; name: string; nativeName: string }[] = [
  { code: 'en', name: 'English', nativeName: 'English' },
  { code: 'hi', name: 'Hindi', nativeName: 'हिन्दी' },
  { code: 'ta', name: 'Tamil', nativeName: 'தமிழ்' },
  { code: 'te', name: 'Telugu', nativeName: 'తెలుగు' },
  { code: 'kn', name: 'Kannada', nativeName: 'ಕನ್ನಡ' },
  { code: 'gu', name: 'Gujarati', nativeName: 'ગુજરાતી' },
  { code: 'mr', name: 'Marathi', nativeName: 'मराठी' },
  { code: 'pa', name: 'Punjabi', nativeName: 'ਪੰਜਾਬੀ' },
  { code: 'bn', name: 'Bengali', nativeName: 'বাংলা' },
];

export const DEFAULT_LANGUAGE: SupportedLanguage = 'en';

const LANGUAGE_KEY = 'app-language';
const LANGUAGE_MODAL_KEY = 'language-modal-seen';

type TranslationKey = string;
type Translations = Record<SupportedLanguage, Record<TranslationKey, string>>;

const translations: Translations = {
  en: {
    'app.title': 'Rajdhani Beej Bhandar',
    'nav.home': 'Home',
    'nav.products': 'Products',
    'nav.contact': 'Contact',
    'nav.admin': 'Admin',
    'nav.agentOrders': 'Orders',
    'footer.admin': 'Admin Login',
    'footer.agent': 'Agent Login',
    'footer.contact': 'Contact Us',
    'footer.phone': 'Phone',
    'footer.address': 'Address',
    'categories.title': 'Product Categories',
    'category.pesticide': 'Pesticides',
    'category.herbicide': 'Herbicides',
    'category.insecticide': 'Insecticides',
    'category.fungicide': 'Fungicides',
    'category.plantGrowthRegulator': 'Plant Growth Regulators',
    'category.seed': 'Seeds',
    'category.machine': 'Agriculture Machines',
    'category.kitchenGarden': 'Organic Home Kitchen Garden',
    'products.title': 'Our Products',
    'products.filter': 'Filter by Category',
    'products.all': 'All Products',
    'products.loading': 'Loading products...',
    'products.error': 'Failed to load products',
    'products.empty': 'No products found',
    'product.price': 'Price',
    'product.stock': 'In Stock',
    'product.minOrder': 'Minimum Order',
    'product.orderNow': 'Order Now',
    'product.viewDetails': 'View Details',
    'product.description': 'Description',
    'product.whatsappEnquiry': 'WhatsApp Enquiry',
    'order.title': 'Place Your Order',
    'order.description': 'Choose your preferred ordering method',
    'order.website': 'Order via Website',
    'order.websiteDesc': 'Fill out the form and place your order',
    'order.whatsapp': 'Order via WhatsApp',
    'order.whatsappDesc': 'Chat with us directly on WhatsApp',
    'order.bulk': 'Bulk Order Enquiry',
    'order.bulkDesc': 'For large quantities, contact us for special pricing',
    'checkout.title': 'Checkout',
    'checkout.name': 'Full Name',
    'checkout.mobile': 'Mobile Number',
    'checkout.address': 'Street Address',
    'checkout.city': 'City',
    'checkout.state': 'State',
    'checkout.pincode': 'Pincode',
    'checkout.quantity': 'Quantity',
    'checkout.orderSummary': 'Order Summary',
    'checkout.price': 'Price',
    'checkout.total': 'Total',
    'checkout.placeOrder': 'Place Order',
    'checkout.placing': 'Placing Order...',
    'contact.title': 'Contact Us',
    'contact.getInTouch': 'Get in Touch',
    'contact.phone': 'Phone',
    'contact.address': 'Address',
    'contact.hours': 'Business Hours',
    'contact.hoursValue': 'Monday - Saturday: 9:00 AM - 7:00 PM',
    'contact.location': 'Our Location',
    'contact.viewMap': 'View on Google Maps',
    'whatsapp.enquiry': 'WhatsApp Enquiry',
    'whatsapp.generalEnquiry': 'Hello! I would like to enquire about your products.',
    'whatsapp.productEnquiry': 'Hello! I am interested in {productName}. Can you provide more details?',
    'whatsapp.bulkEnquiry': 'Hello! I would like to enquire about bulk orders for {productName}.',
    'admin.dashboard': 'Admin Dashboard',
    'admin.dashboardManage': 'Manage your agricultural products store',
    'admin.editText': 'Edit Text Content',
    'admin.editTextDesc': 'Update website text and translations',
    'admin.editImages': 'Edit Images',
    'admin.editImagesDesc': 'Manage product and website images',
    'admin.manageProducts': 'Manage Products',
    'admin.manageProductsDesc': 'Add, edit, or remove products',
    'admin.ordersTitle': 'Order Management',
    'admin.ordersDesc': 'View and manage customer orders',
    'admin.orders': 'Orders',
    'admin.allOrders': 'All Orders',
    'admin.agriOrders': 'Agri Products',
    'admin.machineOrders': 'Machines',
    'admin.kitchenOrders': 'Kitchen Garden',
    'admin.bulkOrders': 'Bulk Orders',
    'admin.bulkOrdersEmpty': 'Bulk order and dealer enquiry functionality will be available in Phase 2.',
    'admin.orderId': 'Order ID',
    'admin.customer': 'Customer',
    'admin.product': 'Product',
    'admin.productType': 'Product Type',
    'admin.quantity': 'Quantity',
    'admin.amount': 'Amount',
    'admin.status': 'Status',
    'admin.actions': 'Actions',
    'admin.noOrders': 'No orders yet',
    'admin.gallery': 'Gallery',
    'admin.galleryDesc': 'Manage image gallery',
    'admin.referenceWebsite': 'Reference Website',
    'admin.referenceWebsiteDesc': 'Save design inspiration',
    'admin.referenceWebsiteTitle': 'Reference Website',
    'admin.savedUrl': 'Saved URL',
    'admin.designNotes': 'Design Notes',
    'admin.openLink': 'Open Link',
    'admin.noReferenceSet': 'No reference website set.',
    'admin.addNow': 'Add now',
    'admin.agents': 'Agent Management',
    'admin.agentsDesc': 'Manage agents and their access',
    'admin.agentsError': 'Failed to load agents',
    'admin.noAgents': 'No agents yet',
    'admin.agentCreate': 'Create Agent',
    'admin.agentCreateDesc': 'Add a new agent to the system',
    'admin.agentEdit': 'Edit Agent',
    'admin.agentEditDesc': 'Update agent information',
    'admin.agentDeleteConfirm': 'Delete Agent?',
    'admin.agentDeleteConfirmDesc': 'Are you sure you want to delete this agent? This action cannot be undone.',
    'admin.agentUsername': 'Username',
    'admin.agentMobile': 'Mobile Number',
    'admin.agentPassword': 'Password',
    'admin.agentRole': 'Agent Role',
    'admin.agentUsernameRequired': 'Username is required',
    'admin.agentMobileRequired': 'Mobile number is required',
    'admin.agentMobileInvalid': 'Please enter a valid 10-digit mobile number',
    'admin.agentPasswordRequired': 'Password is required',
    'admin.agentRoleRequired': 'Agent role is required',
    'admin.cancel': 'Cancel',
    'admin.create': 'Create',
    'admin.creating': 'Creating...',
    'admin.update': 'Update',
    'admin.updating': 'Updating...',
    'admin.delete': 'Delete',
    'admin.deleting': 'Deleting...',
    'admin.username': 'Username',
    'admin.password': 'Password',
    'admin.login': 'Login',
    'admin.logout': 'Logout',
    'admin.loginError': 'Invalid username or password',
    'admin.loggingIn': 'Logging in...',
    'admin.loggedInAs': 'You are logged in as admin',
    'admin.logoutDesc': 'Click below to log out',
    'agent.loginTitle': 'Agent Login',
    'agent.loginDesc': 'Enter your credentials to access agent dashboard',
    'agent.mobileNumber': 'Mobile Number',
    'agent.mobileNumberPlaceholder': 'Enter your mobile number',
    'agent.password': 'Password',
    'agent.passwordPlaceholder': 'Enter your password',
    'agent.login': 'Login',
    'agent.logout': 'Logout',
    'agent.loggingIn': 'Logging in...',
    'agent.loginError': 'Invalid mobile number or password',
    'agent.loginErrorRequired': 'Please enter mobile number and password',
    'agent.loggedInAs': 'You are logged in as an agent',
    'agent.logoutDesc': 'Click below to log out',
    'agent.accessDenied': 'Access Denied',
    'agent.accessDeniedDesc': 'You need to be logged in as an agent to access this page.',
    'agent.ordersTitle': 'All Orders',
    'agent.ordersError': 'Failed to load orders',
    'agent.noOrders': 'No orders yet',
    'agent.orderId': 'Order ID',
    'agent.customer': 'Customer',
    'agent.product': 'Product',
    'agent.productType': 'Product Type',
    'agent.quantity': 'Quantity',
    'agent.amount': 'Amount',
    'agent.status': 'Status',
    'home.features.title': 'Why Choose Us',
    'home.features.genuine': 'Genuine Products',
    'home.features.expert': 'Expert Guidance',
    'home.features.ordering': 'Easy Ordering',
    'about.title': 'About Us',
    'about.defaultContent': 'Welcome to Rajdhani Beej Bhandar, your trusted partner in agriculture. We provide high-quality agricultural products including pesticides, herbicides, insecticides, fungicides, plant growth regulators, and seeds.',
  },
  hi: {
    'app.title': 'राजधानी बीज भंडार',
    'nav.home': 'होम',
    'nav.products': 'उत्पाद',
    'nav.contact': 'संपर्क',
    'nav.admin': 'एडमिन',
    'nav.agentOrders': 'ऑर्डर',
    'footer.admin': 'एडमिन लॉगिन',
    'footer.agent': 'एजेंट लॉगिन',
    'footer.contact': 'संपर्क करें',
    'footer.phone': 'फोन',
    'footer.address': 'पता',
    'categories.title': 'उत्पाद श्रेणियां',
    'category.pesticide': 'कीटनाशक',
    'category.herbicide': 'खरपतवारनाशी',
    'category.insecticide': 'कीटनाशक',
    'category.fungicide': 'फफूंदनाशक',
    'category.plantGrowthRegulator': 'पौधे वृद्धि नियामक',
    'category.seed': 'बीज',
    'category.machine': 'कृषि मशीनें',
    'category.kitchenGarden': 'जैविक घरेलू किचन गार्डन',
    'products.title': 'हमारे उत्पाद',
    'products.filter': 'श्रेणी के अनुसार फ़िल्टर करें',
    'products.all': 'सभी उत्पाद',
    'products.loading': 'उत्पाद लोड हो रहे हैं...',
    'products.error': 'उत्पाद लोड करने में विफल',
    'products.empty': 'कोई उत्पाद नहीं मिला',
    'product.price': 'कीमत',
    'product.stock': 'स्टॉक में',
    'product.minOrder': 'न्यूनतम ऑर्डर',
    'product.orderNow': 'अभी ऑर्डर करें',
    'product.viewDetails': 'विवरण देखें',
    'product.description': 'विवरण',
    'product.whatsappEnquiry': 'व्हाट्सएप पूछताछ',
    'order.title': 'अपना ऑर्डर दें',
    'order.description': 'अपनी पसंदीदा ऑर्डरिंग विधि चुनें',
    'order.website': 'वेबसाइट के माध्यम से ऑर्डर करें',
    'order.websiteDesc': 'फॉर्म भरें और अपना ऑर्डर दें',
    'order.whatsapp': 'व्हाट्सएप के माध्यम से ऑर्डर करें',
    'order.whatsappDesc': 'व्हाट्सएप पर सीधे हमसे चैट करें',
    'order.bulk': 'थोक ऑर्डर पूछताछ',
    'order.bulkDesc': 'बड़ी मात्रा के लिए, विशेष मूल्य निर्धारण के लिए हमसे संपर्क करें',
    'checkout.title': 'चेकआउट',
    'checkout.name': 'पूरा नाम',
    'checkout.mobile': 'मोबाइल नंबर',
    'checkout.address': 'सड़क का पता',
    'checkout.city': 'शहर',
    'checkout.state': 'राज्य',
    'checkout.pincode': 'पिनकोड',
    'checkout.quantity': 'मात्रा',
    'checkout.orderSummary': 'ऑर्डर सारांश',
    'checkout.price': 'कीमत',
    'checkout.total': 'कुल',
    'checkout.placeOrder': 'ऑर्डर दें',
    'checkout.placing': 'ऑर्डर दिया जा रहा है...',
    'contact.title': 'संपर्क करें',
    'contact.getInTouch': 'संपर्क में रहें',
    'contact.phone': 'फोन',
    'contact.address': 'पता',
    'contact.hours': 'व्यापार समय',
    'contact.hoursValue': 'सोमवार - शनिवार: सुबह 9:00 बजे - शाम 7:00 बजे',
    'contact.location': 'हमारा स्थान',
    'contact.viewMap': 'गूगल मैप्स पर देखें',
    'whatsapp.enquiry': 'व्हाट्सएप पूछताछ',
    'whatsapp.generalEnquiry': 'नमस्ते! मैं आपके उत्पादों के बारे में पूछताछ करना चाहता हूं।',
    'whatsapp.productEnquiry': 'नमस्ते! मुझे {productName} में रुचि है। क्या आप अधिक विवरण प्रदान कर सकते हैं?',
    'whatsapp.bulkEnquiry': 'नमस्ते! मैं {productName} के लिए थोक ऑर्डर के बारे में पूछताछ करना चाहता हूं।',
    'admin.dashboard': 'एडमिन डैशबोर्ड',
    'admin.dashboardManage': 'अपने कृषि उत्पाद स्टोर का प्रबंधन करें',
    'admin.editText': 'टेक्स्ट सामग्री संपादित करें',
    'admin.editTextDesc': 'वेबसाइट टेक्स्ट और अनुवाद अपडेट करें',
    'admin.editImages': 'छवियां संपादित करें',
    'admin.editImagesDesc': 'उत्पाद और वेबसाइट छवियों का प्रबंधन करें',
    'admin.manageProducts': 'उत्पाद प्रबंधित करें',
    'admin.manageProductsDesc': 'उत्पाद जोड़ें, संपादित करें या हटाएं',
    'admin.ordersTitle': 'ऑर्डर प्रबंधन',
    'admin.ordersDesc': 'ग्राहक ऑर्डर देखें और प्रबंधित करें',
    'admin.orders': 'ऑर्डर',
    'admin.allOrders': 'सभी ऑर्डर',
    'admin.agriOrders': 'कृषि उत्पाद',
    'admin.machineOrders': 'मशीनें',
    'admin.kitchenOrders': 'किचन गार्डन',
    'admin.bulkOrders': 'थोक ऑर्डर',
    'admin.bulkOrdersEmpty': 'थोक ऑर्डर और डीलर पूछताछ कार्यक्षमता चरण 2 में उपलब्ध होगी।',
    'admin.orderId': 'ऑर्डर आईडी',
    'admin.customer': 'ग्राहक',
    'admin.product': 'उत्पाद',
    'admin.productType': 'उत्पाद प्रकार',
    'admin.quantity': 'मात्रा',
    'admin.amount': 'राशि',
    'admin.status': 'स्थिति',
    'admin.actions': 'कार्रवाई',
    'admin.noOrders': 'अभी तक कोई ऑर्डर नहीं',
    'admin.gallery': 'गैलरी',
    'admin.galleryDesc': 'छवि गैलरी प्रबंधित करें',
    'admin.referenceWebsite': 'संदर्भ वेबसाइट',
    'admin.referenceWebsiteDesc': 'डिज़ाइन प्रेरणा सहेजें',
    'admin.referenceWebsiteTitle': 'संदर्भ वेबसाइट',
    'admin.savedUrl': 'सहेजा गया URL',
    'admin.designNotes': 'डिज़ाइन नोट्स',
    'admin.openLink': 'लिंक खोलें',
    'admin.noReferenceSet': 'कोई संदर्भ वेबसाइट सेट नहीं है।',
    'admin.addNow': 'अभी जोड़ें',
    'admin.agents': 'एजेंट प्रबंधन',
    'admin.agentsDesc': 'एजेंटों और उनकी पहुंच का प्रबंधन करें',
    'admin.agentsError': 'एजेंट लोड करने में विफल',
    'admin.noAgents': 'अभी तक कोई एजेंट नहीं',
    'admin.agentCreate': 'एजेंट बनाएं',
    'admin.agentCreateDesc': 'सिस्टम में एक नया एजेंट जोड़ें',
    'admin.agentEdit': 'एजेंट संपादित करें',
    'admin.agentEditDesc': 'एजेंट जानकारी अपडेट करें',
    'admin.agentDeleteConfirm': 'एजेंट हटाएं?',
    'admin.agentDeleteConfirmDesc': 'क्या आप वाकई इस एजेंट को हटाना चाहते हैं? यह कार्रवाई पूर्ववत नहीं की जा सकती।',
    'admin.agentUsername': 'उपयोगकर्ता नाम',
    'admin.agentMobile': 'मोबाइल नंबर',
    'admin.agentPassword': 'पासवर्ड',
    'admin.agentRole': 'एजेंट भूमिका',
    'admin.agentUsernameRequired': 'उपयोगकर्ता नाम आवश्यक है',
    'admin.agentMobileRequired': 'मोबाइल नंबर आवश्यक है',
    'admin.agentMobileInvalid': 'कृपया एक मान्य 10-अंकीय मोबाइल नंबर दर्ज करें',
    'admin.agentPasswordRequired': 'पासवर्ड आवश्यक है',
    'admin.agentRoleRequired': 'एजेंट भूमिका आवश्यक है',
    'admin.cancel': 'रद्द करें',
    'admin.create': 'बनाएं',
    'admin.creating': 'बनाया जा रहा है...',
    'admin.update': 'अपडेट करें',
    'admin.updating': 'अपडेट किया जा रहा है...',
    'admin.delete': 'हटाएं',
    'admin.deleting': 'हटाया जा रहा है...',
    'admin.username': 'उपयोगकर्ता नाम',
    'admin.password': 'पासवर्ड',
    'admin.login': 'लॉगिन',
    'admin.logout': 'लॉगआउट',
    'admin.loginError': 'अमान्य उपयोगकर्ता नाम या पासवर्ड',
    'admin.loggingIn': 'लॉगिन हो रहा है...',
    'admin.loggedInAs': 'आप एडमिन के रूप में लॉग इन हैं',
    'admin.logoutDesc': 'लॉग आउट करने के लिए नीचे क्लिक करें',
    'agent.loginTitle': 'एजेंट लॉगिन',
    'agent.loginDesc': 'एजेंट डैशबोर्ड तक पहुंचने के लिए अपनी साख दर्ज करें',
    'agent.mobileNumber': 'मोबाइल नंबर',
    'agent.mobileNumberPlaceholder': 'अपना मोबाइल नंबर दर्ज करें',
    'agent.password': 'पासवर्ड',
    'agent.passwordPlaceholder': 'अपना पासवर्ड दर्ज करें',
    'agent.login': 'लॉगिन',
    'agent.logout': 'लॉगआउट',
    'agent.loggingIn': 'लॉगिन हो रहा है...',
    'agent.loginError': 'अमान्य मोबाइल नंबर या पासवर्ड',
    'agent.loginErrorRequired': 'कृपया मोबाइल नंबर और पासवर्ड दर्ज करें',
    'agent.loggedInAs': 'आप एक एजेंट के रूप में लॉग इन हैं',
    'agent.logoutDesc': 'लॉग आउट करने के लिए नीचे क्लिक करें',
    'agent.accessDenied': 'पहुंच अस्वीकृत',
    'agent.accessDeniedDesc': 'इस पृष्ठ तक पहुंचने के लिए आपको एक एजेंट के रूप में लॉग इन होना होगा।',
    'agent.ordersTitle': 'सभी ऑर्डर',
    'agent.ordersError': 'ऑर्डर लोड करने में विफल',
    'agent.noOrders': 'अभी तक कोई ऑर्डर नहीं',
    'agent.orderId': 'ऑर्डर आईडी',
    'agent.customer': 'ग्राहक',
    'agent.product': 'उत्पाद',
    'agent.productType': 'उत्पाद प्रकार',
    'agent.quantity': 'मात्रा',
    'agent.amount': 'राशि',
    'agent.status': 'स्थिति',
    'home.features.title': 'हमें क्यों चुनें',
    'home.features.genuine': 'वास्तविक उत्पाद',
    'home.features.expert': 'विशेषज्ञ मार्गदर्शन',
    'home.features.ordering': 'आसान ऑर्डरिंग',
    'about.title': 'हमारे बारे में',
    'about.defaultContent': 'राजधानी बीज भंडार में आपका स्वागत है, कृषि में आपका विश्वसनीय साथी। हम उच्च गुणवत्ता वाले कृषि उत्पाद प्रदान करते हैं जिनमें कीटनाशक, खरपतवारनाशी, कीटनाशक, फफूंदनाशक, पौधे वृद्धि नियामक और बीज शामिल हैं।',
  },
  ta: {},
  te: {},
  kn: {},
  gu: {},
  mr: {},
  pa: {},
  bn: {},
};

export function translate(language: SupportedLanguage, key: TranslationKey): string {
  return translations[language]?.[key] || translations.en[key] || key;
}

export function getCurrentLanguage(): SupportedLanguage {
  const stored = localStorage.getItem(LANGUAGE_KEY);
  if (stored && SUPPORTED_LANGUAGES.some(lang => lang.code === stored)) {
    return stored as SupportedLanguage;
  }
  return DEFAULT_LANGUAGE;
}

export function setCurrentLanguage(language: SupportedLanguage): void {
  localStorage.setItem(LANGUAGE_KEY, language);
}

export function getTranslation(key: TranslationKey, language: SupportedLanguage): string {
  return translate(language, key);
}

export function hasSeenLanguageModal(): boolean {
  return localStorage.getItem(LANGUAGE_MODAL_KEY) === 'true';
}

export function markLanguageModalSeen(): void {
  localStorage.setItem(LANGUAGE_MODAL_KEY, 'true');
}
